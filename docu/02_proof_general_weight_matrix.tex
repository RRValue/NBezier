\section{Proof general weight matrix}
\label{sec:proofgeneralweightmatrix}

We start with the general equation to calculate the point on a bezier curve of degree n.

\begin{equation*}
    P=\mathlarger{\sum}_{i = 0}^{n} {n \choose i}x^i (1-x)^{n-i} B_i
\end{equation*}
\\ We expand this term and get

\begin{equation*}
    P=
    {n \choose 0}x^0 (1-x)^{n} B_0 +
    {n \choose 1}x^1 (1-x)^{n - 1} B_1 +
    \dots +
    {n \choose n-1}x^{n-1} (1-x)^{1} B_{n-1} +
    {n \choose n}x^{n} (1-x)^{0} B_{n}
\end{equation*}
\\
We use the this identitiy

\begin{equation*}
    (1-x)^n =
    \sum_{i = 0}^{n} {n \choose i} (1)^{n-i}(-x)^{i} =
    \sum_{i = 0}^{n} {n \choose i} ((-1)*x)^{i} =
    \sum_{i = 0}^{n} {n \choose i} (-1)^{i}(x)^{i} =
\end{equation*}
\\
and expand further an get

\begin{align*}
    P= & B_0     & {n \choose 0}x^0       & ( \sum_{i = 0}^{n}   {n \choose i}    (-1)^{i}  (x)^{i}) \\
    +  & B_1     & {n \choose 1}x^1       & ( \sum_{i = 0}^{n-1} {n-1 \choose i}  (-1)^{i}  (x)^{i}) \\
    +  & \dots                                                                                       \\
    +  & B_{n-1} & {n \choose n-1}x^{n-1} & ( \sum_{i = 0}^{1}   {1 \choose i}    (-1)^{i}  (x)^{i}) \\
    +  & B_n     & {n \choose n}x^n       & ( \sum_{i = 0}^{0}   {0 \choose i}    (-1)^{i}  (x)^{i}) \\
\end{align*}
\\ we can immediately pull out the points $B_i$

\begin{equation*}
    P=
    \begin{psmallmatrix*}
        B_0 & B_1 & \dots & B_{n-1} & B_{n}
    \end{psmallmatrix*}
    \times
    \begin{psmallmatrix}
        {n \choose 0}x^0       & ( \sum_{i = 0}^{n}   {n \choose i}    (-1)^{i}  (x)^{i}) \\
        {n \choose 1}x^1       & ( \sum_{i = 0}^{n-1} {n-1 \choose i}  (-1)^{i}  (x)^{i}) \\
        \vdots                                                                            \\
        & \\
        {n \choose n-1}x^{n-1} & ( \sum_{i = 0}^{1}   {1 \choose i}    (-1)^{i}  (x)^{i}) \\
        {n \choose n}x^n       & ( \sum_{i = 0}^{0}   {0 \choose i}    (-1)^{i}  (x)^{i})
    \end{psmallmatrix}
\end{equation*} 
\\
we expand the inner terms and get

\begin{gather*}
    P=B \times
    \begin{psmallmatrix}
        {n \choose 0}   & x^0     & ( & {n \choose 0}   & (-1)^{0} & (x)^{0}  & + & {n \choose 1}   & (-1)^{1} & (x)^{1}  & + \hdots + & {n \choose n-1}   & (-1)^{n-1} & (x)^{n-1}   & + & {n \choose n} (-1)^{n} (x)^{n}) \\
        {n \choose 1}   & x^1     & ( & {n-1 \choose 0} & (-1)^{0} & (x)^{0}  & + & {n-1 \choose 1} & (-1)^{1} & (x)^{1}  & + \hdots + & {n-1 \choose n-1} & (-1)^{n-1} & (x)^{n-1} )                                       \\
        \vdots                                                                                                                                                                                                              \\
        & \\
        {n \choose n-1} & x^{n-1} & ( & {1 \choose 0}   & (-1)^{0} & (x)^{0}  & + & {1 \choose 1}   & (-1)^{1} & (x)^{1})                                                                                                   \\
        {n \choose n}   & x^n     & ( & {0 \choose 0}   & (-1)^{0} & (x)^{0})                                                                                                                                               \\
    \end{psmallmatrix}
\end{gather*}
\\
We distribute the left binomial coefficients and the x terms into the right brackets.

\begin{gather*}
    P=B \times
    \begin{psmallmatrix}
        {n \choose 0}    {n \choose 0}   & (-1)^{0} & (x)^{0}   & + & {n \choose 0}    {n \choose 1}   & (-1)^{1} & (x)^{1} & + \hdots + & {n \choose 0}  {n \choose n-1}   & (-1)^{n-1} & (x)^{n-1} & + & (x)^{n} & {n \choose 0}  {n \choose n} & (-1)^{n} \\
        {n \choose 1}    {n-1 \choose 0} & (-1)^{0} & (x)^{1}   & + & {n \choose 1}    {n-1 \choose 1} & (-1)^{1} & (x)^{2} & + \hdots + & {n \choose 1}  {n-1 \choose n-1} & (-1)^{n-1} & (x)^{n}                                                           \\
        \vdots                                                                                                                                                                                                                                               \\
        & \\
        {n \choose n-1} {1 \choose 0}    & (-1)^{0} & (x)^{n-1} & + & {n \choose n-1}  {1 \choose 1}   & (-1)^{1} & (x)^{n}                                                                                                                                  \\
        {n \choose n}    {0 \choose 0}   & (-1)^{0} & (x)^{n}                                                                                                                                                                                                \\
    \end{psmallmatrix}
\end{gather*}
\\ We reorder by exponent and get

\begin{gather*}
    P=B \times
    \begin{psmallmatrix}
        (x)^{n} & {n \choose 0}    {n \choose n}     & (-1)^{n}   & + & (x)^{n-1} & {n \choose 0}   {n \choose n-1}   & (-1)^{n-1} & + \hdots + & (x)^{1} & {n \choose 0} {n \choose 1}   & (-1)^{1} & + & (x)^{0} & {n \choose 0}    {n \choose 0}   & (-1)^{0} \\
        (x)^{n} & {n \choose 1}    {n-1 \choose n-1} & (-1)^{n-1} & + & (x)^{n-1} & {n \choose 1}   {n-1 \choose n-2} & (-1)^{n-2} & + \hdots + & (x)^{1} & {n \choose 1} {n-1 \choose 0} & (-1)^{0} & + & (x)^{0} & 0                                           \\
        \vdots                                                                                                                                                                                                                                                   \\
        & \\
        (x)^{n} & {n \choose n-1}  {1 \choose 1}     & (-1)^{1}   & + & (x)^{n-1} & {n \choose n-1} {1 \choose 0}     & (-1)^{0}   & + \hdots + & (x)^{1} & 0                             &          & + & (x)^{0} & 0                                           \\
        (x)^{n} & {n \choose n}    {0 \choose 0}     & (-1)^{0}   & + & (x)^{n-1} & 0                                 &            & + \hdots + & (x)^{1} & 0                             &          & + & (x)^{0} & 0                                           \\
    \end{psmallmatrix}
\end{gather*}
\\ we can pull out the variable x and get

\begin{gather*}
    P=B \times
    \begin{psmallmatrix}
        {n \choose 0}{n \choose n}    (-1)^{n}   & {n \choose 0}{n \choose n-1}  (-1)^{n-1} & \hdots & {n \choose 0}{n \choose 1}  (-1)^{1} & {n \choose 0}{n \choose 0}(-1)^{0} \\
        {n \choose 1}{n-1 \choose n-1}(-1)^{n-1} & {n \choose 1}{n-1 \choose n-2}(-1)^{n-2} & \hdots & {n \choose 1}{n-1 \choose 0}(-1)^{0} & 0                                  \\
        \vdots                                   & \vdots                                   & \ddots & \vdots                               & \vdots                             \\
        & \\
        {n \choose n-1}{1 \choose 1}  (-1)^{1}   & {n \choose n-1}{1 \choose 0}  (-1)^{0}   & \hdots & 0                                    & 0                                  \\
        {n \choose n}  {0 \choose 0}  (-1)^{0}   & 0                                        & \hdots & 0                                    & 0                                  \\
    \end{psmallmatrix}
    \times
    \begin{psmallmatrix}
        x^{n}   \\
        x^{n-1} \\
        \vdots  \\
        & \\
        x^{1}   \\
        x^{0}   \\
    \end{psmallmatrix}
\end{gather*}
\\
When we apply the identitiy

\begin{equation*}
    {n \choose i} = {n \choose n-i}
\end{equation*}
to every right binomialin coefficient in every row, we get

\begin{gather*}
    P=B \times
    \begin{psmallmatrix}
        {n \choose 0}{n \choose 0}  (-1)^{n}   & {n \choose 0}{n \choose 1}  (-1)^{n-1} & \hdots & {n \choose 0}{n \choose n-1}  (-1)^{1} & {n \choose 0}{n \choose n}(-1)^{0} \\
        {n \choose 1}{n-1 \choose 0}(-1)^{n-1} & {n \choose 1}{n-1 \choose 1}(-1)^{n-2} & \hdots & {n \choose 1}{n-1 \choose n-1}(-1)^{0} & 0                                  \\
        \vdots                                 & \vdots                                 & \ddots & \vdots                                 & \vdots                             \\
        & \\
        {n \choose n-1}{1 \choose 0}(-1)^{1}   & {n \choose n-1}{1 \choose 1}(-1)^{0}   & \hdots & 0                                      & 0                                  \\
        {n \choose n}  {0 \choose 0}(-1)^{0}   & 0                                      & \hdots & 0                                      & 0                                  \\
    \end{psmallmatrix}
    \times
    V
\end{gather*}
\\
If we now look closer to pairs of binomial coefficients we can see, that they have this format:
\\

The i-th pair of the j-th row can be written as
\begin{equation*}
    {n \choose i}{n-i \choose j}
\end{equation*}
\\
We safely can apply this identitiy to all pairs of binomial coefficients

\begin{equation*}
    {n \choose h}{n-h \choose k} = {n \choose k}{n-k \choose h}
\end{equation*}
\\
and get

\begin{gather*}
    P=B \times
    \begin{psmallmatrix*}
        {n \choose 0}{n \choose 0}(-1)^{n}   & {n \choose 1}{n-1 \choose 0}(-1)^{n-1}  & \hdots & {n \choose n-1}{1 \choose 0}(-1)^{1} & {n \choose n}{0 \choose 0}(-1)^{0} \\
        {n \choose 0}{n \choose 1}(-1)^{n-1} & {n \choose 1}{n-1 \choose 1}(-1)^{n-2}  & \hdots & {n \choose n-1}{1 \choose 1}(-1)^{0} & 0                                  \\
        \vdots                               & \vdots                                  & \ddots & \vdots                               & \vdots                             \\
        & \\
        {n \choose 0}{n \choose n-1}(-1)^{1} & {n \choose 1}{n-1 \choose n-1}(-1)^{0}  & \hdots & 0                                    & 0                                  \\
        {n \choose 0}{n \choose n}(-1)^{0}   & 0                                       & \hdots & 0                                    & 0
    \end{psmallmatrix*}
    \times
    V
\end{gather*}
\\
Rewrite the equation in short, yields

\begin{gather*}
    P=B \times W \times V
\end{gather*}
\\
When we looking at the i-th element of the j-th row, we derive the formula for each cell of the weight matrix W

\begin{equation*}
    W=
    \left(
    \begin{array}{cccc}
        W_{0,0} & W_{1,0} & \cdots & W_{n,0} \\
        W_{0,1} & W_{1,1} & \cdots & W_{n,1} \\
        \vdots  & \vdots  & \ddots & \vdots  \\
        W_{0,n} & W_{1,n} & \cdots & W_{n,n} \\
    \end{array}
    \right)
\end{equation*}
\\
where
\\
\begin{equation*}
    W_{i,j}=\begin{cases}
        (-1)^{n-i-j} {n \choose i}{n-i \choose j} & i + j \le n      \\
        0                                         & \text{otherwise}
    \end{cases}
\end{equation*}